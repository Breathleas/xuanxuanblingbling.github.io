---
title: 手机维修学习记录
date: 2019-06-27 00:00:00
categories:
- Hardware
tags: 
---

## 日期记录

### DAY 1

手机维修必不可少：

- 配件
- 资料（电路图，点位图，芯片引脚等）

常用大工具：

- 烙铁：对于板子：350摄氏度，对于芯片270-300摄氏度
- 风枪：直通风枪（吹小芯片），旋转风风枪（吹大芯片），使用温度 = 基础温度（280左右，4挡风）+ 补偿温度（10-40度）
- 可变电压电源：修手机：3.3v-5v
- 显微镜：观察电路板

常用小工具：

- 斜口钳：拆静电保护套
- 低温锡膏：138摄氏度融化，一般用作中和焊板和焊小元件（电容电阻等）
- 中温锡膏：183摄氏度融化，常用焊接芯片
- 吸锡线：清理焊板上的残留锡膏
- 焊油：使焊锡在焊板上光泽成球
- 注射器：向焊板上注射焊油，控制剂量
- 镊子：夹取原件
- 螺丝刀：各种型号
- 洗板水：清晰焊板上残留的脏东西
- 毛刷：和洗板水无尘布配套使用
- 松香：判断短路发热
- 绿油：绝缘体，填补PCB版刮花产生的意通路
- 手术刀：刮胶
- 无尘布：清理
- 钢网：BGA植锡

### DAY 2

上午主要讲了iphone不同版本的主板的区别，对于iphone6的主板大概如下：

![image](https://xuanxuanblingbling.github.io/assets/pic/iphone6.jpeg)

上图为一张主板的正反面，可见由SIM卡槽拦腰一刀，上半身是CPU管理，下半身是基带芯片管理，当然也是下半身负责手机的基本通讯功能。

这里有如下知识点：

关于处理器：
- iphone的处理器是苹果自己生产的a系列处理器，如a8，a9...a12，基于arm指令集
- a系列处理器硬件上分为两层，上层为ram，下层为cpu，即a系列处理器自带内存
- android机器的处理器和基带一般是采用高通，联发科等集成好的，但不一定集成内存

关于ROM：
- 手机的存储固件的flash芯片，在手机行业仍然成为“硬盘”，android的eMMC称之为“字库”
- 老师说，无论是苹果还是android的硬盘，都无法直接读取其中的内容
- 苹果手机的存储固件的芯片为nand，常见的厂家为：海力士，东芝，闪迪等
- android手机的存储固件芯片为eMMC，原理是芯片中封装了nand以及控制器，统一对不同厂商的nand芯片的操作

关于基带：
- 基带芯片本身负责信息和基带码的转换，信号的发射是由功放芯片和天线完成的
- 苹果后期与高通发生矛盾，采用了intel基带，被吐槽信号不好，老师说，信号不好未必与基带相关

关于码片：
- “码片”这词为维修行业的专有名词，貌似是一个EEPROM的flash芯片，许多芯片有属于自己的“码片”，这玩意在制造行业里叫啥目前不知道
- 如：CPU码片，基带码片等
- 如果只拆换基带芯片而不拆换基带码片，则基带无法正常工作
- 码片非常小，不好拆装，目前是通过将基带芯片拆下，把主板的基带芯片的位置连接到机器上，通过机器读取基带码片中的内容，并烧写到新的基带码片中以完成替换
- 所以猜测各种芯片中都会对自己的码片进行校验，那么推测这些芯片中存在着存储单元用，比如老师说这些a系列的处理器中一定存在着部分代码和数据
- 后来看了他们的翻译知道了，码片就是一个EEPROM！！！


其他：
- wifi和蓝牙是在一个芯片上（都是2.4Ghz）

教材上给出了如下的架构图，其中涉及到许多的总线标准，之后再具体分析：

![image](https://xuanxuanblingbling.github.io/assets/pic/iphone_android.jpeg)

下午主要讲了塑胶座焊接，所谓塑胶座就是主板上那些为通过排线连接过来的设备所需要的底座，如显示座，尾插座（usb线），摄像座。过程如下：

- 热风枪把座吹下来，温度不要太高
- 利用吸锡线清理板子上残余的锡
- 上焊油
- 利用电容给板子上锡，先用烙铁把锡融化在电容两侧成为小球，再用热风枪将电容上的锡粘到板子上
- 放上座，等待冷却，检查

晚上有个朋友让我看华为4g路由器2的调试接口在哪，问了一个老师，老师猜测在这：

![image](https://xuanxuanblingbling.github.io/assets/pic/huaweiroute.jpeg)

找到了一系列的关于硬件破解的文章，记录如下：

- [HG533路由器分析教程之一：找到硬件调试接口](https://bbs.pediy.com/thread-214700.htm)
- [HG533路由器分析教程之二：搜寻固件](https://bbs.pediy.com/thread-214719.htm)
- [HG533路由器分析教程之三：数据流跟踪](https://www.jianshu.com/p/948616a4d1de)
- [HG533路由器分析教程之四：flash内容提取](https://paper.seebug.org/165/)
- [HG533路由器分析教程之五：固件漏洞挖掘](https://paper.seebug.org/167/)
- [嵌入式设备硬件PCB级逆向](https://www.jianshu.com/p/09da82c3325f)
- [悦me-华为SA1456C拆解及非TTL利用运营商开启telnet恢复华为界面](http://koolshare.cn/forum.php?mod=viewthread&tid=42923)

HG533和华为4g路由器2已经购买，hhhh回家睡觉！

### DAY 3  

> 每日鸡血：对于手机损坏，主要是两种，摔和进水，维修的大部分方法还是换件，啥坏换啥，iphone6，20块一个料版（可以拆换元件的废板），对应位置换就好了。

今天就半天的课，讲了万用表的基本用法，并且利用细铜丝榜上绣花针针头并焊接到表笔前部，最后用热缩管包装。这样改装万用表后，可以使得表笔尖部更细，可以更精准的对主板上的位置进行测量。

比较有意思的是维修行业会利用万用表的二极管挡位对正常的一个电路版标记特征值，行业里称之为“打阻值”。一般是红表笔接在电路板上的地位（比如金属屏蔽罩），然后黑表笔去各个位置测量。当遇到一个坏板子时，同样用二极管挡对其进行测试，如果这个特征值与正常板子的特征值相差过大，则可以大致确定故障位置。老师说这种技法最早是台湾传过来的，而且好多维修的方法都源自于台湾。

![image](https://xuanxuanblingbling.github.io/assets/pic/voa.jpeg)

我用电阻档测试电路板上的阻值总是显示断路，后来才知道，要播到20兆欧姆的档位才能测出来，原来这种电路里的电阻这么大。

### DAY 4

> 每日鸡血：只要手机屏幕足够大，存储足够大，1000块的手机能买到3000，很多人在干这个，赚到的钱足以让店面几个月一换，继续坑人。

上午讲了电路图的基本标识，电路里主要有两种线：供电，信号。在维修行业中主要测量电路中的电压，而不关注电流。

供电：VCC/VDD/PP

- PP_XXX
- PP_VCC_MAIN

供电线标注举例：

- PP1V8_SDRAM: 1.8v内存供电电路
- VBUCK5_1V8: 1.8V大电流第五路
- VOUT5_1V8: 1.8V小电流第五路


信号线，一般安卓线路图中名字采取如下格式标注，标注名称中不说明方向，线路图中会单独采取图标表明数据传输方向（是单向还是双向）

- 位置_作用
- 位置_总线_作用
- 总线_位置_作用

安卓信号线标注举例：

- CAM0_I2C_SDA0: 相机连到I2C总线的双向数据线
- CAM0_RST_N: 相机复位信号(负极??我猜的，最后一位应该是一个附加标注）

信号线，苹果线路图中，标注名称会说明数据传输方向

- src_to_dst_bus_use（单向）
- a_bi_b_bus_use（双向）

苹果信号线标注举例：

- BT_TO_AP_UART1_CTS_L: 蓝牙到应用处理器的通过第一组通用串行异步总线的清除发送信号
- AP_TO_BT_UART1_RXD: 应用处理器到蓝牙的的通过第一组通用串行异步总线的数据接收信号

下午讲了拆芯片与焊接小芯片，步骤如下：

- 镊子和热风枪配合把芯片翘下来，采用直通风枪，温度开到最高，二挡风
- 低温锡中和焊板，吸锡带清理焊板，讲究手法，焊油不能少
- 烙铁直接清理芯片上残留的锡，不必清理焊油，可以防止氧化
- 利用中温锡和钢网给芯片摸上锡膏
- 将热风机靠在钢网上，斜着把锡膏吹化，稍做冷却，摘下芯片
- 将芯片放在原来的位置上，大概对齐，用热风枪继续吹，观察芯片归位即可

焊接是个讲究手法的东西，我这个手残也就看个大概，不过有如下小技巧和知识点：

- 归根到到底就是拆装芯片的时候不要伤害到其他部件
- 吹小芯片时，当热风枪的口径比芯片小的时候要画圈圈转够全部的芯片部分，不要吹到别的地方
- 当热风枪口径和芯片差不多大的时候，直吹芯片就可以了，风枪口和芯片举例2-3mm即可，非常近
- 利用低温锡中和焊板时的融化的锡球不要滚到其他地方，而热的烙铁碰到一下其他的零部件没啥大影响
- PCB板子上的每一个焊点底座是铜镀锡，这个表面的锡不会被吸锡带吸走
- 利用吸锡带吸完后，焊点表面的黄色物质不是漏出的铜片，而是烤糊的焊油
- 钢网就是芯片背后那个排列的密密麻麻小球阵列的模具
- 那个小球阵列就是Ball Grid Array，BGA
- BGA的焊点很多是空点

### DAY 5

> 每日鸡血：维修者在给手机处理保险电阻/电容的时候，一般会选择短接，而不会更换电阻，带来的危害就是如果再次短路则会烧了前面的线路，但是都这么干，为了快，为了钱。

上午讲电子元件，电子元件的标号格式一般为：元件代号+主板位置号，如Y2200，主板上位置号为2200的晶振

- 晶振（Y）：手机中常见为32.768kHz，24MHz，19.2MHz三种晶振，分别用于实时时钟，CPU基准时钟，基带电源基准时钟，实物常见为金属壳，表面一般可以看到印刷的信号信息
- 电感（L）：手机中常见大小两种电感，主要作用分别滤波储能和保险，小电感的外表和电阻区别不大，没有任何标记，一般通过点位图和线路图来区分
- 电阻（R）：常见分类，保险电阻，上拉电阻，下拉电阻，一般采取01005封装，线路图中的标注会标注：标号，阻值，误差，封装等信息

关于电阻：

- 保险电阻：一般常见于芯片供电脚，阻值一般在10欧一下，也可能为0欧，但是短路时也会发热，烧断自己保护其余电路
- 上拉电阻：一侧接供电，一侧接信号，将信号线电位拉高，让信号远距离高速传输，虽然电阻很大，可能有几千欧，但这个跟后续电路的等效阻抗九牛一毛，所以不会降压很多
- 下拉电阻：一侧接地，一侧信号，将信号电位拉低，设置初试低电平参数，和上拉电阻差不多，阻值也很大。

老师在讲解上拉电阻时，就一直强调两侧电压相等，但是这对于深信欧姆定律的我，无法不和他辩驳，因为：**即使你不相信这个时代你还可以娶到一个纯洁无前科的漂亮老婆，也一定要相信欧姆定律**（出自知乎：萝莉赛高flamingo——能不能通俗的解释一下「上拉电阻/下拉电阻」的原理）

关于上拉下拉电阻到底是啥玩意，这玩意有啥用，为啥这么设计，参考知乎这两个答案

- [https://www.zhihu.com/question/23167435/answer/254381695](https://www.zhihu.com/question/23167435/answer/384756599)
- [https://www.zhihu.com/question/23167435/answer/254381695](https://www.zhihu.com/question/23167435/answer/254381695)

我的理解就是首先信号线不能悬空，悬空会使得信号不确定，这也就是百度百科中对于上拉电阻的解释（上拉就是将不确定的信号通过一个电阻钳位在高电平，电阻同时起限流作用。下拉同理，也是将不确定的信号通过一个电阻钳位在低电平。）中的所谓的不确定。有人评论这句“很多这种解释让人听了一头雾水”，反正没理解之前我是看不懂这种解释的，那理解之后我还看这种解释干嘛。回到不确定，因为不确定，所以我们要让他为一个确定值，即把这根信号线解到电源或者地上，这样就是确定了对吧。但是当我们对于一个解到电源上的信号线想传递低电平的时候，不是就相当于电源和地短接了么，所以要加一个电阻，这根电阻就是所谓的上拉或者下拉电阻。